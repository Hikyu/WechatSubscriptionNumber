# WechatSubscriptionNumber

## 微信公众号

[](./logo/esaybill.jpg)

## 实现功能

### 1.翻译

支持多语种翻译，使用百度翻译API

翻译语法如下:

目标语种:要翻译的内容，比如

en:我是祖国的花朵

其中，en代表目标语种为英语，我是祖国的花朵 为要翻译的内容

目标语种可以不填写，默认为英语，比如

:我是祖国的花朵

输入 "语种"查看语种列表

### 2.公交查询

使用聚合数据API

公交线路查询语法如下:

输入 城市+线路名称 查询该线路，如：输入  天津312

### 3.记账

数据库sql文件：sql/wechat_accounts.sql

记账语法如下:

 1.收入

 描述+数值;。比如:工资+5000;表示工资收入5000元;以分号结尾

 2.支出

 描述-数值;。比如:话费-100;表示支出话费100元;以分号结尾

 3.多项收入支出

 多个收入支出项目以分号分隔。比如:工资+5000;话费-100;以分号结尾

 4.日期

 记账开头设置账目日期,以冒号分隔,若不设置日期,则以当天日期为账目日期。比如:2016-10-07:工资+5000;话费-100;

 5.查询

 输入日期查询该日收入支出情况。比如:2016-10-07

 输入月份查询该月收入支出情况。比如:2016-10

 6.删除某天收支记录

 删除+日期。比如:删除2016-10-01表示删除2016-10-01这一天的所有记录，同时月度账单作出相应的调整

 7.提示

 收支描述中不要出现 ";"|":"|"+"|"-"，否则无法正确解析~~ 

 请在英文状态下输入";"|":"，插入收支记录记得以分号结尾~~

 8.帮助

 回复"记账"可查看本菜单

### 4.万年历

使用聚合数据API

万年历语法如下:

输入日期查看指定日期万年历，如：输入 20161001

输入"今天"即可查看今日万年历，如：输入 今天

### 5.地图

使用百度地图API

进入公众号发送自己的位置后会收到公众号推送的链接，点击进入即可在网页中查询附近或查询线路

## 参考

[Java 微信开发](http://wiki.jikexueyuan.com/project/java-wechat/)

[聚合数据](https://www.juhe.cn/)

[百度翻译开放平台](http://api.fanyi.baidu.com/api/trans/product/index)

[百度地图开放平台](http://lbsyun.baidu.com/index.php?title=%E9%A6%96%E9%A1%B5)

[微信公众平台开发者文档](http://mp.weixin.qq.com/wiki/home/index.html)

## 注意

### 1.space.kyu.wechat_.common.utils.Constants.java 没有上传到github, 可以自行建立。其中内容仅为上述开放平台密钥字符串

### 2.若想要公众号可以正常运行，微信公众平台要求端口号必须设为80。若在本地环境搭建，可使用nat123等工具做公网ip和端口号的映射。
